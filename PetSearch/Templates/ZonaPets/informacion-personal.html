{% extends "ZonaPets/barsiteapp.html" %}
{% block content %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TyC ZonaPets</title>
</head>

{% load static %}
<link rel="stylesheet" href="{% static 'css/informacion.css' %}">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap">
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
<script src="{% static 'javascript/informacion.js' %}" defer></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<body>
    <div id="app"></div>
    <!-- <div id="app">
    <div class="title-info">
        <a href="http://127.0.0.1:8000/iniciarsesion/">Cuenta </a><span>> </span><a
            href="http://127.0.0.1:8000/informacionpersonal/">Informacion personal</a>
        <h1 class="title">Información personal</h1>
        <button onclick="submitLogout(event)">Cerrar sesión</button>
    </div>
    <section class="user-info">
        <div class="item">
            <h6><span><ion-icon class="icon" name="happy-outline"></ion-icon> </span> Nombre</h6>
            <p>Cristian Bonilla</p>
        </div>
        <div class="item">
            <p><a href="">Editar</a></p>
        </div>
        <hr>
        <div class="item">
            <h6><span><ion-icon class="icon" name="at-circle-outline"></ion-icon></span> Correo</h6>
            <p>criscamcr7@gmail.com</p>
        </div>
        <div class="item">
            <p><a href="">Editar</a></p>
        </div>
        <hr>
        <div class="item">
            <h6><span><ion-icon class="icon" name="person-outline"></ion-icon></span> Username</h6>
            <p>devCristian7</p>
        </div>
        <div class="item">
            <p><a href="">Editar</a></p>
        </div>
        <hr>
        <div class="item">
            <h6><span><ion-icon class="icon" name="phone-portrait-outline"></ion-icon></span> Telefono</h6>
            <p>3118216576</p>
        </div>
        <div class="item">
            <p><a href="">Editar</a></p>
        </div>
        <hr>
        <div class="item">
            <h6><span><ion-icon class="icon" name="flag-outline"></ion-icon></span> Ciudad de residencia</h6>
            <p>Bogotá, Colombia
            </p>
        </div>
        <div class="item">
            <p><a href="">Editar</a></p>
        </div>
        <hr>
    </section>
    </div> -->
    <!-- <script>
        import axios from "axios";

        document.addEventListener("DOMContentLoaded", function () {
            const app = document.getElementById('app');
            let currentUser = false;
            let registrationToggle = false;
            let userEmail = "";
            let username = "";

            function checkUserStatus() {
                axios.get("http://127.0.0.1:8000/api/user/", { withCredentials: true })
                    .then(function (response) {
                        currentUser = true;
                        renderApp()
                    })
                    .catch(function (error) {
                        currentUser = false;
                        renderApp();
                    });
            }

            function updateFormBtn() {
                registrationToggle = !registrationToggle;
                renderApp();
            }

            function submitLogout(e) {
                e.preventDefault();
                axios.post("http://127.0.0.1:8000/api/logout/", {}, { withCredentials: true })
                    .then(function (response) {
                        currentUser = false;
                        renderApp();
                    });
            }

            function renderApp() {
                const app = document.getElementById('app');
                app.innerHTML = '';
                let formContent = '';

                // Renderizar el formulario dependiendo del estado del usuario
                // Tu código de renderización aquí

                app.innerHTML += formContent;
            }

            // Inicialización
            checkUserStatus();

            // Hacer funciones globales para acceso desde HTML
            window.submitLogout = submitLogout;
            window.updateFormBtn = updateFormBtn;
        });

        // Configuración de Axios
        axios.defaults.xsrfCookieName = "csrftoken";
        axios.defaults.xsrfHeaderName = "X-CSRFToken";
        axios.defaults.withCredentials = true;

    </script> -->
</body>

</html>
{% endblock %}